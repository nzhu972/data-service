package com.malware.application;

import org.apache.camel.Exchange;
import org.apache.camel.processor.aggregate.AggregationStrategy;

/**
 * Aggregation strategy to return the first message back to caller. Other messages are sent to 
 * message broker via the choice endpoint in camel route
 * 
 * @author Nevin Zhu
 * @version 1.0
 * @since 2020-5-22
 *
 */
public class SubmissionFileAggregateStrategy implements AggregationStrategy {

	public Exchange aggregate(Exchange oldExchange, Exchange newExchange) {

		if (oldExchange == null) {
            // the first time we aggregate we only have the new exchange,
            // so we just return it
            return newExchange;
		}

		return oldExchange;
	}

}
